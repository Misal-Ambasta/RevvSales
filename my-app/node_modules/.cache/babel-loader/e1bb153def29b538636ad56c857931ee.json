{"ast":null,"code":"import _classCallCheck from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";var DocumentTemp=/*#__PURE__*/function(_Component){_inherits(DocumentTemp,_Component);var _super=_createSuper(DocumentTemp);function DocumentTemp(props){var _this;_classCallCheck(this,DocumentTemp);_this=_super.call(this,props);_this.handleDoc=function(id){var token=_this.props.data[0].data.User.access_token;var l=_this.state.TempData[0].Templates.filter(function(a){return a.id==id;});console.log(l);axios({method:\"post\",headers:{AccessToken:token,\"Content-Type\":\"application/json\"},url:\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",data:{template_id:id}}).then(function(response){return response.json();}).then(function(data){return _this.setState({objId:data.Document.object_id,show:true});}).then(_this.handlePermaLink).catch(function(error){return alert(error);});};_this.handlePermaLink=function(){var token=_this.props.data[0].data.User.access_token;console.log(_this.state.objId,\"obj\");axios(\"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",{method:\"get\",headers:{AccessToken:token}}).then(function(response){return response.json();}).then(function(data){return _this.setState({docno:data.page.inodes[1].doc_no,link:\"https://ft890220.revvsales.com/documents/\".concat(data.page.inodes[1].doc_no)});}).catch(function(error){return alert(error);}).then(function(data){//console.log(this.state.docno, \"docno\");\nif(_this.state.docno!=\"\"){//  console.log(\"yes\", this.state.docno, this.state.link);\nwindow.open(_this.state.link);}});};_this.state={TempData:[],show:false,ObjId:\"\",docno:\"\",link:\"\"};return _this;}_createClass(DocumentTemp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var data=this.props.data;var token=data[0].data.User.access_token;console.log(token);axios(\"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",{method:\"get\",headers:{\"Content-Type\":\"application/json\",AccessToken:token}}).then(function(data){_this2.setState({TempData:[data]});}).catch(function(error){_this2.setState({error:\"Invalid Email or Password\"});});}},{key:\"render\",value:function render(){var _this3=this;console.log(this.state.TempData,this.state.docno,this.state.link);return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.TempData.length>0?/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},this.state.TempData[0].data.Templates.map(function(a){return/*#__PURE__*/React.createElement(\"div\",{style:{flex:\"1px\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:a.thumbnail,id:a.id,onClick:function onClick(){return _this3.handleDoc(a.id);},style:{height:\"95%\",width:\"200px\"}}),/*#__PURE__*/React.createElement(\"div\",null,a.title)));})):/*#__PURE__*/React.createElement(React.Fragment,null));}}]);return DocumentTemp;}(Component);export{DocumentTemp as default};","map":{"version":3,"sources":["D:/hackathon1/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","axios","DocumentTemp","props","handleDoc","id","token","data","User","access_token","l","state","TempData","Templates","filter","a","console","log","method","headers","AccessToken","url","template_id","then","response","json","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","docno","page","inodes","doc_no","link","window","open","ObjId","length","display","map","flex","thumbnail","height","width","title"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GACqBC,CAAAA,Y,4GACnB,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EADiB,MAmCnBC,SAnCmB,CAmCP,SAACC,EAAD,CAAQ,CAClB,GAAIC,CAAAA,KAAK,CAAG,MAAKH,KAAL,CAAWI,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC,CACA,GAAMC,CAAAA,CAAC,CAAG,MAAKC,KAAL,CAAWC,QAAX,CAAoB,CAApB,EAAuBC,SAAvB,CAAiCC,MAAjC,CAAwC,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACV,EAAF,EAAQA,EAAf,EAAxC,CAAV,CACAW,OAAO,CAACC,GAAR,CAAYP,CAAZ,EACAT,KAAK,CAAC,CACJiB,MAAM,CAAE,MADJ,CAEJC,OAAO,CAAE,CACPC,WAAW,CAAEd,KADN,CAEP,eAAgB,kBAFT,CAFL,CAMJe,GAAG,CACD,wEAPE,CAQJd,IAAI,CAAE,CACJe,WAAW,CAAEjB,EADT,CARF,CAAD,CAAL,CAYGkB,IAZH,CAYQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAZR,EAaGF,IAbH,CAaQ,SAAChB,IAAD,QACJ,OAAKmB,QAAL,CAAc,CACZC,KAAK,CAAEpB,IAAI,CAACqB,QAAL,CAAcC,SADT,CAEZC,IAAI,CAAE,IAFM,CAAd,CADI,EAbR,EAmBGP,IAnBH,CAmBQ,MAAKQ,eAnBb,EAoBGC,KApBH,CAoBS,SAACC,KAAD,QAAWC,CAAAA,KAAK,CAACD,KAAD,CAAhB,EApBT,EAqBD,CA5DkB,OA6DnBF,eA7DmB,CA6DD,UAAM,CACtB,GAAIzB,CAAAA,KAAK,CAAG,MAAKH,KAAL,CAAWI,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC,CACAO,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAL,CAAWgB,KAAvB,CAA8B,KAA9B,EAEA1B,KAAK,CACH,wEADG,CAEH,CACEiB,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,WAAW,CAAEd,KADN,CAFX,CAFG,CAAL,CASGiB,IATH,CASQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EATR,EAUGF,IAVH,CAUQ,SAAChB,IAAD,QACJ,OAAKmB,QAAL,CAAc,CACZS,KAAK,CAAE5B,IAAI,CAAC6B,IAAL,CAAUC,MAAV,CAAiB,CAAjB,EAAoBC,MADf,CAEZC,IAAI,oDAA8ChC,IAAI,CAAC6B,IAAL,CAAUC,MAAV,CAAiB,CAAjB,EAAoBC,MAAlE,CAFQ,CAAd,CADI,EAVR,EAgBGN,KAhBH,CAgBS,SAACC,KAAD,QAAWC,CAAAA,KAAK,CAACD,KAAD,CAAhB,EAhBT,EAiBGV,IAjBH,CAiBQ,SAAChB,IAAD,CAAU,CACd;AACA,GAAI,MAAKI,KAAL,CAAWwB,KAAX,EAAoB,EAAxB,CAA4B,CAC1B;AACAK,MAAM,CAACC,IAAP,CAAY,MAAK9B,KAAL,CAAW4B,IAAvB,EACD,CACF,CAvBH,EAwBD,CAzFkB,CAEjB,MAAK5B,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXkB,IAAI,CAAE,KAFK,CAGXY,KAAK,CAAE,EAHI,CAIXP,KAAK,CAAE,EAJI,CAKXI,IAAI,CAAE,EALK,CAAb,CAFiB,aASlB,C,sFACmB,oBACVhC,CAAAA,IADU,CACD,KAAKJ,KADJ,CACVI,IADU,CAElB,GAAID,CAAAA,KAAK,CAAGC,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAR,CAAaC,IAAb,CAAkBC,YAA9B,CACAO,OAAO,CAACC,GAAR,CAAYX,KAAZ,EACAL,KAAK,CACH,sEADG,CAEH,CACEiB,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,WAAW,CAAEd,KAFN,CAFX,CAFG,CAAL,CAUGiB,IAVH,CAUQ,SAAChB,IAAD,CAAU,CACd,MAAI,CAACmB,QAAL,CAAc,CACZd,QAAQ,CAAE,CAACL,IAAD,CADE,CAAd,EAGD,CAdH,EAeGyB,KAfH,CAeS,SAACC,KAAD,CAAW,CAChB,MAAI,CAACP,QAAL,CAAc,CACZO,KAAK,CAAE,2BADK,CAAd,EAGD,CAnBH,EAoBD,C,uCAwDQ,iBACPjB,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWC,QAAvB,CAAiC,KAAKD,KAAL,CAAWwB,KAA5C,CAAmD,KAAKxB,KAAL,CAAW4B,IAA9D,EAEA,mBACE,wCACG,KAAK5B,KAAL,CAAWC,QAAX,CAAoB+B,MAApB,CAA6B,CAA7B,cACC,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAZ,EACG,KAAKjC,KAAL,CAAWC,QAAX,CAAoB,CAApB,EAAuBL,IAAvB,CAA4BM,SAA5B,CAAsCgC,GAAtC,CAA0C,SAAC9B,CAAD,qBACzC,2BAAK,KAAK,CAAE,CAAE+B,IAAI,CAAE,KAAR,CAAZ,eACE,4CACE,2BACE,GAAG,CAAE/B,CAAC,CAACgC,SADT,CAEE,EAAE,CAAEhC,CAAC,CAACV,EAFR,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,SAAL,CAAeW,CAAC,CAACV,EAAjB,CAAN,EAHX,CAIE,KAAK,CAAE,CAAE2C,MAAM,CAAE,KAAV,CAAiBC,KAAK,CAAE,OAAxB,CAJT,EADF,cAOE,+BAAMlC,CAAC,CAACmC,KAAR,CAPF,CADF,CADyC,EAA1C,CADH,CADD,cAiBC,wCAlBJ,CADF,CAuBD,C,0BArHuClD,S,SAArBE,Y","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: [],\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    let token = data[0].data.User.access_token;\r\n    console.log(token);\r\n    axios(\r\n      \"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((data) => {\r\n        this.setState({\r\n          TempData: [data],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  }\r\n  handleDoc = (id) => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    const l = this.state.TempData[0].Templates.filter((a) => a.id == id);\r\n    console.log(l);\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\r\n      data: {\r\n        template_id: id,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    axios(\r\n      \"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(this.state.TempData, this.state.docno, this.state.link);\r\n\r\n    return (\r\n      <>\r\n        {this.state.TempData.length > 0 ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            {this.state.TempData[0].data.Templates.map((a) => (\r\n              <div style={{ flex: \"1px\" }}>\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"200px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}