{"ast":null,"code":"import _classCallCheck from\"D:\\\\hackathon1r\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\hackathon1r\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\hackathon1r\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\hackathon1r\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Component}from\"react\";import axios from\"axios\";import DocumentTemp from\"../Components/DocumentTemp\";import{AppContext}from\"../Context/AuthContext\";import Dictaphone from\"../Components/speech\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleAllDocs=function(){var data=_this.state.data;var token=data[0].data.User.access_token;console.log(token);axios(\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",{method:\"get\",headers:{\"Content-Type\":\"application/json\",AccessToken:token}}).then(function(res){_this.setState({TempData:[res]});}).catch(function(error){_this.setState({error:\"Invalid Email or Password\"});});};_this.handleLogin=function(e){console.log(_this.context.email,_this.context.password);axios({method:\"post\",headers:{\"Content-Type\":\"application/json\",GrantType:\"password\"},url:\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/v2/auth/initiate-auth\",data:{user_email:_this.context.email,password:_this.context.password,org_domain:_this.state.org_domain}}).then(function(res){console.log(res);if(res.data.User.access_token.length>0){_this.setState({data:[res]});}}).catch(function(error){_this.setState({error:\"Invalid Email or Password\"});});//console.log(this.state.data,this.state.data.length)\n};_this.handleRecord=function(){};_this.handleTemp=function(){window.open(\"https://ft890220.revvsales.com/templates/library\");};_this.state={data:[],error:\"\",TempData:[],org_domain:\"ft890220\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,TempData=_this$state.TempData;var _this$context=this.context,email=_this$context.email,password=_this$context.password,handleChange=_this$context.handleChange,handleMicChange=_this$context.handleMicChange;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.data.length===0?/*#__PURE__*/React.createElement(\"div\",{className:\"backgroundImage\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"img\",{className:\"logo-icon\",src:\"Revvsales_logo.png\",style:{width:\"20%\",height:\"35px\"}}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"emailBox\"},/*#__PURE__*/React.createElement(\"label\",{className:\"emailInput\"},\"Email:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:handleChange,className:\"form-control\",id:\"inputEmail3\",placeholder:\"Enter the email\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"input-group-append\"},/*#__PURE__*/React.createElement(\"span\",{class:\"input-group-text\",id:\"basic-addon2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mic\"},/*#__PURE__*/React.createElement(Dictaphone,null)))),/*#__PURE__*/React.createElement(\"div\",{class:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-sm-2 col-form-label col-form-label-sm\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:handleChange,className:\"form-control\",id:\"inputPassword3\",placeholder:\"Enter the password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.handleLogin,className:\"login\"},\"Login\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"20px\",color:\"red\"}},this.state.error))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",marginLeft:\"15%\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:data[0].data.User.image_url,className:\"avatarImg \",alt:data[0].data.User.first_name})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,data[0].data.User.first_name.toUpperCase()))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"20px\"}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"createBtn\",onClick:this.handleAllDocs},\" \",\"Create Document\"),/*#__PURE__*/React.createElement(\"button\",{className:\"createBtn\",onClick:this.handleTemp},\"Create Template\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DocumentTemp,{TempData:TempData,data:this.state.data,org_domain:this.state.org_domain})))))));}}]);return Login;}(Component);export{Login as default};Login.contextType=AppContext;","map":{"version":3,"sources":["D:/hackathon1r/RevvSales/my-app/src/Components/login.jsx"],"names":["React","Component","axios","DocumentTemp","AppContext","Dictaphone","Login","props","handleAllDocs","data","state","token","User","access_token","console","log","method","headers","AccessToken","then","res","setState","TempData","catch","error","handleLogin","e","context","email","password","GrantType","url","user_email","org_domain","length","handleRecord","handleTemp","window","open","handleChange","handleMicChange","width","height","marginTop","color","padding","display","marginLeft","image_url","first_name","toUpperCase","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport DocumentTemp from \"../Components/DocumentTemp\";\r\nimport { AppContext } from \"../Context/AuthContext\";\r\nimport Dictaphone from \"../Components/speech\";\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      error: \"\",\r\n      TempData: [],\r\n      org_domain: \"ft890220\",\r\n    };\r\n  }\r\n\r\n  handleAllDocs = () => {\r\n    const { data } = this.state;\r\n    let token = data[0].data.User.access_token;\r\n    console.log(token);\r\n    axios(\r\n      \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        this.setState({\r\n          TempData: [res],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  };\r\n  handleLogin = (e) => {\r\n    console.log(this.context.email, this.context.password);\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        GrantType: \"password\",\r\n      },\r\n\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/v2/auth/initiate-auth\",\r\n      data: {\r\n        user_email: this.context.email,\r\n        password: this.context.password,\r\n        org_domain: this.state.org_domain,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data.User.access_token.length > 0) {\r\n          this.setState({\r\n            data: [res],\r\n          });\r\n        }\r\n      })\r\n\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n    //console.log(this.state.data,this.state.data.length)\r\n  };\r\n  handleRecord = () => {};\r\n  handleTemp = () => {\r\n    window.open(\"https://ft890220.revvsales.com/templates/library\");\r\n  };\r\n  render() {\r\n    const { data, TempData } = this.state;\r\n    const { email, password, handleChange, handleMicChange } = this.context;\r\n\r\n    return (\r\n      <>\r\n        {this.state.data.length === 0 ? (\r\n          <div className=\"backgroundImage\">\r\n            <div>\r\n              <h1 className=\"logo\">\r\n                <img\r\n                  className=\"logo-icon\"\r\n                  src=\"Revvsales_logo.png\"\r\n                  style={{ width: \"20%\", height: \"35px\" }}\r\n                />\r\n              </h1>\r\n            </div>\r\n            <div>\r\n              <form>\r\n                <div className=\"emailBox\">\r\n                  <label className=\"emailInput\">Email:</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={handleChange}\r\n                    className=\"form-control\"\r\n                    id=\"inputEmail3\"\r\n                    placeholder=\"Enter the email\"\r\n                  />\r\n                  <div class=\"input-group-append\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon2\"></span>\r\n                    <div className=\"mic\">\r\n                      {/* <img\r\n                        src=\"https://www.flaticon.com/svg/static/icons/svg/2983/2983820.svg\"\r\n                        style={{\r\n                          marginLeft: \"0px\",\r\n                          width: \"20px\",\r\n                          height: \"20px\",\r\n                        }} */}\r\n                      <Dictaphone />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                  <label class=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                    Password:\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={handleChange}\r\n                    className=\"form-control\"\r\n                    id=\"inputPassword3\"\r\n                    placeholder=\"Enter the password\"\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={this.handleLogin}\r\n                  className=\"login\"\r\n                >\r\n                  Login\r\n                </button>\r\n              </form>\r\n              <div style={{ marginTop: \"20px\", color: \"red\" }}>\r\n                {this.state.error}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div style={{ padding: \"20px\" }}>\r\n              <div style={{ display: \"flex\", marginLeft: \"15%\" }}>\r\n                {/* Avatar image */}\r\n                <div>\r\n                  <img\r\n                    src={data[0].data.User.image_url}\r\n                    className=\"avatarImg \"\r\n                    alt={data[0].data.User.first_name}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <h4>{data[0].data.User.first_name.toUpperCase()}</h4>\r\n                </div>\r\n              </div>\r\n              <div style={{ marginTop: \"20px\" }}>\r\n                <p>\r\n                  <button className=\"createBtn\" onClick={this.handleAllDocs}>\r\n                    {\" \"}\r\n                    Create Document\r\n                  </button>\r\n                  <button className=\"createBtn\" onClick={this.handleTemp}>\r\n                    Create Template\r\n                  </button>\r\n                </p>\r\n                <div>\r\n                  <div>\r\n                    <DocumentTemp\r\n                      TempData={TempData}\r\n                      data={this.state.data}\r\n                      org_domain={this.state.org_domain}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nLogin.contextType = AppContext;\r\n"]},"metadata":{},"sourceType":"module"}