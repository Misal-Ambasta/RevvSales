{"ast":null,"code":"var _jsxFileName = \"D:\\\\Masai School\\\\RevvSales\\\\my-app\\\\src\\\\Components\\\\DocumentTemp.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nexport default class DocumentTemp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDoc = id => {\n      let token = this.state.data[0].data.User.access_token;\n      axios({\n        method: \"post\",\n        headers: {\n          AccessToken: token,\n          \"Content-Type\": \"application/json\"\n        },\n        url: \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\n        data: {\n          template_id: id\n        }\n      }).then(data => this.setState({\n        objId: data.data.Document.object_id,\n        show: true\n      })).then(this.handlePermaLink).catch(error => alert(error));\n    };\n\n    this.handlePermaLink = () => {\n      let token = this.props.data[0].data.User.access_token;\n      console.log(this.state.objId, \"obj\");\n      axios(\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\", {\n        method: \"get\",\n        headers: {\n          AccessToken: token,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(data => this.setState({\n        docno: data.data.page.inodes[1].doc_no,\n        link: `https://ft890220.revvsales.com/documents/${data.data.page.inodes[1].doc_no}`\n      })).catch(error => alert(error)).then(data => {\n        //console.log(this.state.docno, \"docno\");\n        if (this.state.docno != \"\") {\n          //  console.log(\"yes\", this.state.docno, this.state.link);\n          window.open(this.state.link);\n        }\n      });\n    };\n\n    this.state = {\n      TempData: this.props.TempData,\n      show: false,\n      ObjId: \"\",\n      docno: \"\",\n      link: \"\",\n      data: this.props.data\n    };\n  }\n\n  render() {\n    console.log(this.props.TempData, this.state.docno, this.state.link, this.props.TempData);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.TempData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"DocsContainer border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, this.props.TempData[0].data.Templates.map(a => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"DocsContainer border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: a.thumbnail,\n      id: a.id,\n      onClick: () => this.handleDoc(a.id),\n      style: {\n        height: \"95%\",\n        width: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, a.title))))) : /*#__PURE__*/React.createElement(React.Fragment, null));\n  }\n\n}","map":{"version":3,"sources":["D:/Masai School/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","axios","DocumentTemp","constructor","props","handleDoc","id","token","state","data","User","access_token","method","headers","AccessToken","url","template_id","then","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","console","log","docno","page","inodes","doc_no","link","window","open","TempData","ObjId","render","length","Templates","map","a","thumbnail","height","width","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe,MAAMC,YAAN,SAA2BF,SAA3B,CAAqC;AAClDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAYnBC,SAZmB,GAYNC,EAAD,IAAQ;AAClB,UAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC;AAEAV,MAAAA,KAAK,CAAC;AACJW,QAAAA,MAAM,EAAE,MADJ;AAEJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,WAAW,EAAEP,KADN;AAEP,0BAAgB;AAFT,SAFL;AAMJQ,QAAAA,GAAG,EACD,wEAPE;AAQJN,QAAAA,IAAI,EAAE;AACJO,UAAAA,WAAW,EAAEV;AADT;AARF,OAAD,CAAL,CAYGW,IAZH,CAYSR,IAAD,IACJ,KAAKS,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAEV,IAAI,CAACA,IAAL,CAAUW,QAAV,CAAmBC,SADd;AAEZC,QAAAA,IAAI,EAAE;AAFM,OAAd,CAbJ,EAkBGL,IAlBH,CAkBQ,KAAKM,eAlBb,EAmBGC,KAnBH,CAmBUC,KAAD,IAAWC,KAAK,CAACD,KAAD,CAnBzB;AAoBD,KAnCkB;;AAAA,SAoCnBF,eApCmB,GAoCD,MAAM;AACtB,UAAIhB,KAAK,GAAG,KAAKH,KAAL,CAAWK,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWW,KAAvB,EAA8B,KAA9B;AAEAlB,MAAAA,KAAK,CACH,4GADG,EAEH;AACEW,QAAAA,MAAM,EAAE,KADV;AAEEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,WAAW,EAAEP,KADN;AAEP,0BAAgB;AAFT;AAFX,OAFG,CAAL,CAUGU,IAVH,CAUSR,IAAD,IACJ,KAAKS,QAAL,CAAc;AACZW,QAAAA,KAAK,EAAEpB,IAAI,CAACA,IAAL,CAAUqB,IAAV,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,MADpB;AAEZC,QAAAA,IAAI,EAAG,4CAA2CxB,IAAI,CAACA,IAAL,CAAUqB,IAAV,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,MAAO;AAFtE,OAAd,CAXJ,EAgBGR,KAhBH,CAgBUC,KAAD,IAAWC,KAAK,CAACD,KAAD,CAhBzB,EAiBGR,IAjBH,CAiBSR,IAAD,IAAU;AACd;AACA,YAAI,KAAKD,KAAL,CAAWqB,KAAX,IAAoB,EAAxB,EAA4B;AAC1B;AACAK,UAAAA,MAAM,CAACC,IAAP,CAAY,KAAK3B,KAAL,CAAWyB,IAAvB;AACD;AACF,OAvBH;AAwBD,KAhEkB;;AAEjB,SAAKzB,KAAL,GAAa;AACX4B,MAAAA,QAAQ,EAAE,KAAKhC,KAAL,CAAWgC,QADV;AAEXd,MAAAA,IAAI,EAAE,KAFK;AAGXe,MAAAA,KAAK,EAAE,EAHI;AAIXR,MAAAA,KAAK,EAAE,EAJI;AAKXI,MAAAA,IAAI,EAAE,EALK;AAMXxB,MAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWK;AANN,KAAb;AAQD;;AAuDD6B,EAAAA,MAAM,GAAG;AACPX,IAAAA,OAAO,CAACC,GAAR,CACE,KAAKxB,KAAL,CAAWgC,QADb,EAEE,KAAK5B,KAAL,CAAWqB,KAFb,EAGE,KAAKrB,KAAL,CAAWyB,IAHb,EAIE,KAAK7B,KAAL,CAAWgC,QAJb;AAOA,wBACE,0CACG,KAAKhC,KAAL,CAAWgC,QAAX,CAAoBG,MAApB,GAA6B,CAA7B,gBACC;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKnC,KAAL,CAAWgC,QAAX,CAAoB,CAApB,EAAuB3B,IAAvB,CAA4B+B,SAA5B,CAAsCC,GAAtC,CAA2CC,CAAD,iBACzC;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,GAAG,EAAEA,CAAC,CAACC,SADT;AAEE,MAAA,EAAE,EAAED,CAAC,CAACpC,EAFR;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKD,SAAL,CAAeqC,CAAC,CAACpC,EAAjB,CAHjB;AAIE,MAAA,KAAK,EAAE;AAAEsC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMH,CAAC,CAACI,KAAR,CAPF,CADF,CADD,CADH,CADD,gBAiBC,yCAlBJ,CADF;AAuBD;;AAjGiD","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: this.props.TempData,\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n      data: this.props.data,\r\n    };\r\n  }\r\n\r\n  handleDoc = (id) => {\r\n    let token = this.state.data[0].data.User.access_token;\r\n\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\r\n      data: {\r\n        template_id: id,\r\n      },\r\n    })\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    axios(\r\n      \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          AccessToken: token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    )\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(\r\n      this.props.TempData,\r\n      this.state.docno,\r\n      this.state.link,\r\n      this.props.TempData\r\n    );\r\n\r\n    return (\r\n      <>\r\n        {this.props.TempData.length > 0 ? (\r\n          <div className='DocsContainer border'>\r\n            {this.props.TempData[0].data.Templates.map((a) => (\r\n              <div className='DocsContainer border'>\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"100px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}