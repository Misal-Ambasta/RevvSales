{"ast":null,"code":"import _classCallCheck from\"D:\\\\Masai School\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Masai School\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Masai School\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Masai School\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";var DocumentTemp=/*#__PURE__*/function(_Component){_inherits(DocumentTemp,_Component);var _super=_createSuper(DocumentTemp);function DocumentTemp(props){var _this;_classCallCheck(this,DocumentTemp);_this=_super.call(this,props);_this.handleDoc=function(id){var token=_this.state.data[0].data.User.access_token;axios({method:\"post\",headers:{AccessToken:token,\"Content-Type\":\"application/json\"},url:\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",data:{template_id:id}}).then(function(data){return _this.setState({objId:data.data.Document.object_id,show:true});}).then(_this.handlePermaLink).catch(function(error){return alert(error);});};_this.handlePermaLink=function(){var token=_this.props.data[0].data.User.access_token;console.log(_this.state.objId,\"obj\");axios(\"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",{method:\"get\",headers:{AccessToken:token,\"Content-Type\":\"application/json\"}}).then(function(data){return _this.setState({docno:data.data.page.inodes[1].doc_no,link:\"https://ft890220.revvsales.com/documents/\".concat(data.data.page.inodes[1].doc_no)});}).catch(function(error){return alert(error);}).then(function(data){//console.log(this.state.docno, \"docno\");\nif(_this.state.docno!=\"\"){//  console.log(\"yes\", this.state.docno, this.state.link);\nwindow.open(_this.state.link);}});};_this.state={TempData:_this.props.TempData,show:false,ObjId:\"\",docno:\"\",link:\"\",data:_this.props.data};return _this;}_createClass(DocumentTemp,[{key:\"render\",value:function render(){var _this2=this;console.log(this.props.TempData,this.state.docno,this.state.link,this.props.TempData);return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.TempData.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"DocsContainer\"},this.props.TempData[0].data.Templates.map(function(a){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:a.thumbnail,id:a.id,onClick:function onClick(){return _this2.handleDoc(a.id);},style:{height:\"95%\",width:\"150px\"}}),/*#__PURE__*/React.createElement(\"div\",null,a.title)));})):/*#__PURE__*/React.createElement(React.Fragment,null));}}]);return DocumentTemp;}(Component);export{DocumentTemp as default};","map":{"version":3,"sources":["D:/Masai School/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","axios","DocumentTemp","props","handleDoc","id","token","state","data","User","access_token","method","headers","AccessToken","url","template_id","then","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","console","log","docno","page","inodes","doc_no","link","window","open","TempData","ObjId","length","Templates","map","a","thumbnail","height","width","title"],"mappings":"4mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GACqBC,CAAAA,Y,4GACnB,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EADiB,MAYnBC,SAZmB,CAYP,SAACC,EAAD,CAAQ,CAClB,GAAIC,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC,CAEAT,KAAK,CAAC,CACJU,MAAM,CAAE,MADJ,CAEJC,OAAO,CAAE,CACPC,WAAW,CAAEP,KADN,CAEP,eAAgB,kBAFT,CAFL,CAMJQ,GAAG,CACD,wEAPE,CAQJN,IAAI,CAAE,CACJO,WAAW,CAAEV,EADT,CARF,CAAD,CAAL,CAYGW,IAZH,CAYQ,SAACR,IAAD,QACJ,OAAKS,QAAL,CAAc,CACZC,KAAK,CAAEV,IAAI,CAACA,IAAL,CAAUW,QAAV,CAAmBC,SADd,CAEZC,IAAI,CAAE,IAFM,CAAd,CADI,EAZR,EAkBGL,IAlBH,CAkBQ,MAAKM,eAlBb,EAmBGC,KAnBH,CAmBS,SAACC,KAAD,QAAWC,CAAAA,KAAK,CAACD,KAAD,CAAhB,EAnBT,EAoBD,CAnCkB,OAoCnBF,eApCmB,CAoCD,UAAM,CACtB,GAAIhB,CAAAA,KAAK,CAAG,MAAKH,KAAL,CAAWK,IAAX,CAAgB,CAAhB,EAAmBA,IAAnB,CAAwBC,IAAxB,CAA6BC,YAAzC,CACAgB,OAAO,CAACC,GAAR,CAAY,MAAKpB,KAAL,CAAWW,KAAvB,CAA8B,KAA9B,EAEAjB,KAAK,CACH,4GADG,CAEH,CACEU,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,WAAW,CAAEP,KADN,CAEP,eAAgB,kBAFT,CAFX,CAFG,CAAL,CAUGU,IAVH,CAUQ,SAACR,IAAD,QACJ,OAAKS,QAAL,CAAc,CACZW,KAAK,CAAEpB,IAAI,CAACA,IAAL,CAAUqB,IAAV,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,MADpB,CAEZC,IAAI,oDAA8CxB,IAAI,CAACA,IAAL,CAAUqB,IAAV,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,MAAvE,CAFQ,CAAd,CADI,EAVR,EAgBGR,KAhBH,CAgBS,SAACC,KAAD,QAAWC,CAAAA,KAAK,CAACD,KAAD,CAAhB,EAhBT,EAiBGR,IAjBH,CAiBQ,SAACR,IAAD,CAAU,CACd;AACA,GAAI,MAAKD,KAAL,CAAWqB,KAAX,EAAoB,EAAxB,CAA4B,CAC1B;AACAK,MAAM,CAACC,IAAP,CAAY,MAAK3B,KAAL,CAAWyB,IAAvB,EACD,CACF,CAvBH,EAwBD,CAhEkB,CAEjB,MAAKzB,KAAL,CAAa,CACX4B,QAAQ,CAAE,MAAKhC,KAAL,CAAWgC,QADV,CAEXd,IAAI,CAAE,KAFK,CAGXe,KAAK,CAAE,EAHI,CAIXR,KAAK,CAAE,EAJI,CAKXI,IAAI,CAAE,EALK,CAMXxB,IAAI,CAAE,MAAKL,KAAL,CAAWK,IANN,CAAb,CAFiB,aAUlB,C,gEAuDQ,iBACPkB,OAAO,CAACC,GAAR,CACE,KAAKxB,KAAL,CAAWgC,QADb,CAEE,KAAK5B,KAAL,CAAWqB,KAFb,CAGE,KAAKrB,KAAL,CAAWyB,IAHb,CAIE,KAAK7B,KAAL,CAAWgC,QAJb,EAOA,mBACE,wCACG,KAAKhC,KAAL,CAAWgC,QAAX,CAAoBE,MAApB,CAA6B,CAA7B,cACC,2BAAK,SAAS,CAAC,eAAf,EACG,KAAKlC,KAAL,CAAWgC,QAAX,CAAoB,CAApB,EAAuB3B,IAAvB,CAA4B8B,SAA5B,CAAsCC,GAAtC,CAA0C,SAACC,CAAD,qBACzC,4CACE,4CACE,2BACE,GAAG,CAAEA,CAAC,CAACC,SADT,CAEE,EAAE,CAAED,CAAC,CAACnC,EAFR,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,SAAL,CAAeoC,CAAC,CAACnC,EAAjB,CAAN,EAHX,CAIE,KAAK,CAAE,CAAEqC,MAAM,CAAE,KAAV,CAAiBC,KAAK,CAAE,OAAxB,CAJT,EADF,cAOE,+BAAMH,CAAC,CAACI,KAAR,CAPF,CADF,CADyC,EAA1C,CADH,CADD,cAiBC,wCAlBJ,CADF,CAuBD,C,0BAjGuC5C,S,SAArBE,Y","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: this.props.TempData,\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n      data: this.props.data,\r\n    };\r\n  }\r\n\r\n  handleDoc = (id) => {\r\n    let token = this.state.data[0].data.User.access_token;\r\n\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\r\n      data: {\r\n        template_id: id,\r\n      },\r\n    })\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    axios(\r\n      \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          AccessToken: token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    )\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(\r\n      this.props.TempData,\r\n      this.state.docno,\r\n      this.state.link,\r\n      this.props.TempData\r\n    );\r\n\r\n    return (\r\n      <>\r\n        {this.props.TempData.length > 0 ? (\r\n          <div className='DocsContainer'>\r\n            {this.props.TempData[0].data.Templates.map((a) => (\r\n              <div >\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"150px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}