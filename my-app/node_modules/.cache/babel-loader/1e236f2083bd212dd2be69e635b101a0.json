{"ast":null,"code":"var _jsxFileName = \"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\src\\\\Components\\\\DocumentTemp.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nexport default class DocumentTemp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDoc = id => {\n      let token = this.props.data[0].data.User.access_token;\n      const l = this.state.TempData[0].Templates.filter(a => a.id == id);\n      console.log(l);\n      axios({\n        method: \"post\",\n        headers: {\n          AccessToken: token,\n          \"Content-Type\": \"application/json\"\n        },\n        url: \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\n        data: {\n          template_id: id\n        }\n      }).then(response => response.json()).then(data => this.setState({\n        objId: data.Document.object_id,\n        show: true\n      })).then(this.handlePermaLink).catch(error => alert(error));\n    };\n\n    this.handlePermaLink = () => {\n      let token = this.props.data[0].data.User.access_token;\n      console.log(this.state.objId, \"obj\");\n      axios(\"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\", {\n        method: \"get\",\n        headers: {\n          AccessToken: token\n        }\n      }).then(response => response.json()).then(data => this.setState({\n        docno: data.page.inodes[1].doc_no,\n        link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`\n      })).catch(error => alert(error)).then(data => {\n        //console.log(this.state.docno, \"docno\");\n        if (this.state.docno != \"\") {\n          //  console.log(\"yes\", this.state.docno, this.state.link);\n          window.open(this.state.link);\n        }\n      });\n    };\n\n    this.state = {\n      TempData: [],\n      show: false,\n      ObjId: \"\",\n      docno: \"\",\n      link: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const {\n      data\n    } = this.props;\n    let token = data[0].data.User.access_token;\n    console.log(token);\n    axios(\"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        AccessToken: token\n      }\n    }).then(data => {\n      this.setState({\n        TempData: [data]\n      });\n    }).catch(error => {\n      this.setState({\n        error: \"Invalid Email or Password\"\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state.TempData, this.state.docno, this.state.link);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.TempData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, this.state.TempData[0].data.Templates.map(a => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: \"1px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: a.thumbnail,\n      id: a.id,\n      onClick: () => this.handleDoc(a.id),\n      style: {\n        height: \"95%\",\n        width: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, a.title))))) : /*#__PURE__*/React.createElement(React.Fragment, null));\n  }\n\n}","map":{"version":3,"sources":["D:/hackathon1/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","axios","DocumentTemp","constructor","props","handleDoc","id","token","data","User","access_token","l","state","TempData","Templates","filter","a","console","log","method","headers","AccessToken","url","template_id","then","response","json","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","docno","page","inodes","doc_no","link","window","open","ObjId","componentDidMount","render","length","display","map","flex","thumbnail","height","width","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: [],\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    let token = data[0].data.User.access_token;\r\n    console.log(token);\r\n    axios(\r\n      \"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((data) => {\r\n        this.setState({\r\n          TempData: [data],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  }\r\n  handleDoc = (id) => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    const l = this.state.TempData[0].Templates.filter((a) => a.id == id);\r\n    console.log(l);\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\r\n      data: {\r\n        template_id: id,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    axios(\r\n      \"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(this.state.TempData, this.state.docno, this.state.link);\r\n\r\n    return (\r\n      <>\r\n        {this.state.TempData.length > 0 ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            {this.state.TempData[0].data.Templates.map((a) => (\r\n              <div style={{ flex: \"1px\" }}>\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"200px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}