{"ast":null,"code":"var _jsxFileName = \"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\src\\\\Components\\\\DocumentTemp.jsx\";\nimport React, { Component } from \"react\";\nexport default class DocumentTemp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDoc = id => {\n      let token = this.props.data[0].User.access_token;\n      const l = this.state.TempData[0].Templates.filter(a => a.id == id);\n      console.log(l);\n      const data = {\n        template_id: id\n      };\n      fetch(\"https://api.revvsales.com/api/docs\", {\n        method: \"POST\",\n        headers: {\n          AccessToken: token,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(response => response.json()).then(data => this.setState({\n        objId: data.Document.object_id,\n        show: true\n      })).then(this.handlePermaLink).catch(error => console.log(error));\n    };\n\n    this.handlePermaLink = () => {\n      let token = this.props.data[0].User.access_token;\n      console.log(this.state.objId, \"obj\");\n      fetch(\"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\", {\n        method: \"GET\",\n        headers: {\n          AccessToken: token\n        }\n      }).then(response => response.json()).then(data => this.setState({\n        docno: data.page.inodes[1].doc_no,\n        link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`\n      })).catch(error => console.log(error));\n    };\n\n    this.state = {\n      TempData: [],\n      show: false,\n      ObjId: \"\",\n      docno: \"\",\n      link: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const {\n      data\n    } = this.props;\n    let token = data[0].User.access_token;\n    console.log(token);\n    fetch(\"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        AccessToken: token\n      }\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        TempData: [data]\n      });\n    }).catch(error => {\n      this.setState({\n        error: \"Invalid Email or Password\"\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state.TempData, this.state.docno, this.state.link);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.TempData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, this.state.TempData[0].Templates.map(a => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: \"1px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: a.thumbnail,\n      id: a.id,\n      onClick: () => this.handleDoc(a.id),\n      style: {\n        height: \"95%\",\n        width: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, a.title))))) : /*#__PURE__*/React.createElement(React.Fragment, null), this.state.docno === \"\" ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(React.Fragment, null, window.open(this.state.link)));\n  }\n\n}","map":{"version":3,"sources":["D:/hackathon1/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","DocumentTemp","constructor","props","handleDoc","id","token","data","User","access_token","l","state","TempData","Templates","filter","a","console","log","template_id","fetch","method","headers","AccessToken","body","JSON","stringify","then","response","json","setState","objId","Document","object_id","show","handlePermaLink","catch","error","docno","page","inodes","doc_no","link","ObjId","componentDidMount","render","length","display","map","flex","thumbnail","height","width","title","window","open"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: [],\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    let token = data[0].User.access_token;\r\n    console.log(token);\r\n    fetch(\r\n      \"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({\r\n          TempData: [data],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  }\r\n  handleDoc = (id) => {\r\n    let token = this.props.data[0].User.access_token;\r\n    const l = this.state.TempData[0].Templates.filter((a) => a.id == id);\r\n    console.log(l);\r\n    const data = {\r\n      template_id: id,\r\n    };\r\n    fetch(\"https://api.revvsales.com/api/docs\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => console.log(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    fetch(\r\n      \"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => console.log(error));\r\n  };\r\n  render() {\r\n    console.log(this.state.TempData, this.state.docno, this.state.link);\r\n\r\n    return (\r\n      <>\r\n        {this.state.TempData.length > 0 ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            {this.state.TempData[0].Templates.map((a) => (\r\n              <div style={{ flex: \"1px\" }}>\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"200px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        {this.state.docno === \"\" ? <></> : <>{window.open(this.state.link)}</>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}