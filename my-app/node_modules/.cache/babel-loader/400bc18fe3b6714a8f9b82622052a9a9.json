{"ast":null,"code":"import _classCallCheck from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\hackathon1\\\\RevvSales\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";var DocumentTemp=/*#__PURE__*/function(_Component){_inherits(DocumentTemp,_Component);var _super=_createSuper(DocumentTemp);function DocumentTemp(props){var _this;_classCallCheck(this,DocumentTemp);_this=_super.call(this,props);_this.handleDoc=function(id){var token=_this.props.data[0].data.User.access_token;var l=_this.state.TempData[0].Templates.filter(function(a){return a.id==id;});console.log(l);var data={template_id:id};fetch(\"https://api.revvsales.com/api/docs\",{method:\"POST\",headers:{AccessToken:token,\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){return _this.setState({objId:data.Document.object_id,show:true});}).then(_this.handlePermaLink).catch(function(error){return alert(error);});};_this.handlePermaLink=function(){var token=_this.props.data[0].data.User.access_token;console.log(_this.state.objId,\"obj\");fetch(\"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",{method:\"GET\",headers:{AccessToken:token}}).then(function(response){return response.json();}).then(function(data){return _this.setState({docno:data.page.inodes[1].doc_no,link:\"https://ft890220.revvsales.com/documents/\".concat(data.page.inodes[1].doc_no)});}).catch(function(error){return alert(error);}).then(function(data){//console.log(this.state.docno, \"docno\");\nif(_this.state.docno!=\"\"){//  console.log(\"yes\", this.state.docno, this.state.link);\nwindow.open(_this.state.link);}});};_this.state={TempData:[],show:false,ObjId:\"\",docno:\"\",link:\"\"};return _this;}_createClass(DocumentTemp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var data=this.props.data;var token=data[0].data.User.access_token;console.log(token);fetch(\"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",AccessToken:token}}).then(function(response){return response.json();}).then(function(data){_this2.setState({TempData:[data]});}).catch(function(error){_this2.setState({error:\"Invalid Email or Password\"});});}},{key:\"render\",value:function render(){var _this3=this;console.log(this.state.TempData,this.state.docno,this.state.link);return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.TempData.length>0?/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},this.state.TempData[0].Templates.map(function(a){return/*#__PURE__*/React.createElement(\"div\",{style:{flex:\"1px\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:a.thumbnail,id:a.id,onClick:function onClick(){return _this3.handleDoc(a.id);},style:{height:\"95%\",width:\"200px\"}}),/*#__PURE__*/React.createElement(\"div\",null,a.title)));})):/*#__PURE__*/React.createElement(React.Fragment,null));}}]);return DocumentTemp;}(Component);export{DocumentTemp as default};","map":{"version":3,"sources":["D:/hackathon1/RevvSales/my-app/src/Components/DocumentTemp.jsx"],"names":["React","Component","DocumentTemp","props","handleDoc","id","token","data","User","access_token","l","state","TempData","Templates","filter","a","console","log","template_id","fetch","method","headers","AccessToken","body","JSON","stringify","then","response","json","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","docno","page","inodes","doc_no","link","window","open","ObjId","length","display","map","flex","thumbnail","height","width","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: [],\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    let token = data[0].data.User.access_token;\r\n    console.log(token);\r\n    fetch(\r\n      \"https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({\r\n          TempData: [data],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  }\r\n  handleDoc = (id) => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    const l = this.state.TempData[0].Templates.filter((a) => a.id == id);\r\n    console.log(l);\r\n    const data = {\r\n      template_id: id,\r\n    };\r\n    fetch(\"https://api.revvsales.com/api/docs\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    fetch(\r\n      \"https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(this.state.TempData, this.state.docno, this.state.link);\r\n\r\n    return (\r\n      <>\r\n        {this.state.TempData.length > 0 ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            {this.state.TempData[0].Templates.map((a) => (\r\n              <div style={{ flex: \"1px\" }}>\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"200px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}