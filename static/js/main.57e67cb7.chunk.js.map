{"version":3,"sources":["Components/DocumentTemp.jsx","Context/AuthContext.jsx","Components/speech.jsx","Components/login.jsx","App.js","index.js"],"names":["DocumentTemp","props","handleDoc","id","token","state","data","User","access_token","axios","method","headers","AccessToken","url","template_id","then","setState","objId","Document","object_id","show","handlePermaLink","catch","error","alert","console","log","docno","page","inodes","doc_no","link","window","open","TempData","ObjId","this","length","className","Templates","map","a","src","thumbnail","onClick","style","height","width","title","Component","AppContext","React","createContext","AppContextProvider","handleMicChange","m","localStorage","getItem","email","handleChange","e","target","name","value","password","Provider","children","Dictaphone","useSpeechRecognition","transcript","t","resetTranscript","split","join","toLowerCase","SpeechRecognition","browserSupportsSpeechRecognition","setItem","Consumer","marginLeft","startListening","onMouseLeave","Login","handleAllDocs","res","handleLogin","context","GrantType","user_email","org_domain","handleRecord","handleTemp","type","onChange","placeholder","class","marginTop","color","padding","display","image_url","alt","first_name","toUpperCase","contextType","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.57e67cb7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport default class DocumentTemp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TempData: this.props.TempData,\r\n      show: false,\r\n      ObjId: \"\",\r\n      docno: \"\",\r\n      link: \"\",\r\n      data: this.props.data,\r\n    };\r\n  }\r\n\r\n  handleDoc = (id) => {\r\n    let token = this.state.data[0].data.User.access_token;\r\n\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        AccessToken: token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docs\",\r\n      data: {\r\n        template_id: id,\r\n      },\r\n    })\r\n      .then((data) =>\r\n        this.setState({\r\n          objId: data.data.Document.object_id,\r\n          show: true,\r\n        })\r\n      )\r\n      .then(this.handlePermaLink)\r\n      .catch((error) => alert(error));\r\n  };\r\n  handlePermaLink = () => {\r\n    let token = this.props.data[0].data.User.access_token;\r\n    console.log(this.state.objId, \"obj\");\r\n\r\n    axios(\r\n      \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/folders/?page_num=1&sort_by_doc_num=true\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          AccessToken: token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    )\r\n      .then((data) =>\r\n        this.setState({\r\n          docno: data.data.page.inodes[1].doc_no,\r\n          link: `https://ft890220.revvsales.com/documents/${data.data.page.inodes[1].doc_no}`,\r\n        })\r\n      )\r\n      .catch((error) => alert(error))\r\n      .then((data) => {\r\n        //console.log(this.state.docno, \"docno\");\r\n        if (this.state.docno != \"\") {\r\n          //  console.log(\"yes\", this.state.docno, this.state.link);\r\n          window.open(this.state.link);\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    console.log(\r\n      this.props.TempData,\r\n      this.state.docno,\r\n      this.state.link,\r\n      this.props.TempData\r\n    );\r\n\r\n    return (\r\n      <>\r\n        {this.props.TempData.length > 0 ? (\r\n          <div className='DocsContainer'>\r\n            {this.props.TempData[0].data.Templates.map((a) => (\r\n              <div >\r\n                <div>\r\n                  <img\r\n                    src={a.thumbnail}\r\n                    id={a.id}\r\n                    onClick={() => this.handleDoc(a.id)}\r\n                    style={{ height: \"95%\", width: \"150px\" }}\r\n                  />\r\n                  <div>{a.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nexport const AppContext = React.createContext();\r\nclass AppContextProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n  handleMicChange = () => {\r\n    let m = window.localStorage.getItem(\"name\");\r\n    if (m.length > 0) {\r\n      this.setState({\r\n        email: m,\r\n      });\r\n    }\r\n  };\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    const { handleChange, handleMicChange } = this;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{ email, password, handleChange, handleMicChange }}\r\n      >\r\n        {this.props.children}\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\nexport default AppContextProvider;\r\n","import React from \"react\";\r\nimport SpeechRecognition, {\r\n  useSpeechRecognition,\r\n} from \"react-speech-recognition\";\r\nimport { AppContext } from \"../Context/AuthContext\";\r\nconst Dictaphone = () => {\r\n  const { transcript, resetTranscript } = useSpeechRecognition();\r\n  var t = transcript.split(\" \").join(\"\");\r\n  t = t.toLowerCase();\r\n  console.log(t);\r\n  if (!SpeechRecognition.browserSupportsSpeechRecognition()) {\r\n    return null;\r\n  }\r\n  //SpeechRecognition.startListening({ continuous: true });\r\n  //   SpeechRecognition.stopListening({ continuous: false });\r\n  window.localStorage.setItem(\"name\", t);\r\n  return (\r\n    <AppContext.Consumer>\r\n      {({ handleMicChange }) => (\r\n        <div>\r\n          <div>\r\n            <img\r\n              src=\"https://www.flaticon.com/svg/static/icons/svg/2983/2983820.svg\"\r\n              style={{\r\n                marginLeft: \"0px\",\r\n                width: \"20px\",\r\n                height: \"20px\",\r\n              }}\r\n              onClick={SpeechRecognition.startListening}\r\n              onMouseLeave={handleMicChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\nexport default Dictaphone;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport DocumentTemp from \"../Components/DocumentTemp\";\r\nimport { AppContext } from \"../Context/AuthContext\";\r\nimport Dictaphone from \"../Components/speech\";\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      error: \"\",\r\n      TempData: [],\r\n      org_domain: \"ft890220\",\r\n    };\r\n  }\r\n\r\n  handleAllDocs = () => {\r\n    const { data } = this.state;\r\n    let token = data[0].data.User.access_token;\r\n    console.log(token);\r\n    axios(\r\n      \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/docstemplate/?page_num=1&status=ACTIVE\",\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          AccessToken: token,\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        this.setState({\r\n          TempData: [res],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n  };\r\n  handleLogin = (e) => {\r\n    console.log(this.context.email, this.context.password);\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        GrantType: \"password\",\r\n      },\r\n\r\n      url:\r\n        \"https://cors-anywhere.herokuapp.com/https://api.revvsales.com/api/v2/auth/initiate-auth\",\r\n      data: {\r\n        user_email: this.context.email,\r\n        password: this.context.password,\r\n        org_domain: this.state.org_domain,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data.User.access_token.length > 0) {\r\n          this.setState({\r\n            data: [res],\r\n          });\r\n        }\r\n      })\r\n\r\n      .catch((error) => {\r\n        this.setState({\r\n          error: \"Invalid Email or Password\",\r\n        });\r\n      });\r\n    //console.log(this.state.data,this.state.data.length)\r\n  };\r\n  handleRecord = () => {};\r\n  handleTemp = () => {\r\n    window.open(\"https://ft890220.revvsales.com/templates/library\");\r\n  };\r\n  render() {\r\n    const { data, TempData } = this.state;\r\n    const { email, password, handleChange, handleMicChange } = this.context;\r\n\r\n    return (\r\n      <>\r\n        {this.state.data.length === 0 ? (\r\n          <div className=\"backgroundImage\">\r\n            <div>\r\n              <h1 className=\"logo\">\r\n                <img\r\n                  className=\"logo-icon\"\r\n                  src=\"Revvsales_logo.png\"\r\n                  style={{ width: \"20%\", height: \"35px\" }}\r\n                />\r\n              </h1>\r\n            </div>\r\n            <div>\r\n              <form>\r\n                <div className=\"emailBox\">\r\n                  <label className=\"emailInput\">Email:</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={handleChange}\r\n                    className=\"form-control\"\r\n                    id=\"inputEmail3\"\r\n                    placeholder=\"Enter the email\"\r\n                  />\r\n                  <div class=\"input-group-append\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon2\"></span>\r\n                    <div className=\"mic\">\r\n                      {/* <img\r\n                        src=\"https://www.flaticon.com/svg/static/icons/svg/2983/2983820.svg\"\r\n                        style={{\r\n                          marginLeft: \"0px\",\r\n                          width: \"20px\",\r\n                          height: \"20px\",\r\n                        }} */}\r\n                      <Dictaphone />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                  <label class=\"col-sm-2 col-form-label col-form-label-sm\">\r\n                    Password:\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={handleChange}\r\n                    className=\"form-control\"\r\n                    id=\"inputPassword3\"\r\n                    placeholder=\"Enter the password\"\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={this.handleLogin}\r\n                  className=\"login\"\r\n                >\r\n                  Login\r\n                </button>\r\n              </form>\r\n              <div style={{ marginTop: \"20px\", color: \"red\" }}>\r\n                {this.state.error}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div style={{ padding: \"20px\" }}>\r\n              <div style={{ display: \"flex\", marginLeft: \"15%\" }}>\r\n                {/* Avatar image */}\r\n                <div>\r\n                  <img\r\n                    src={data[0].data.User.image_url}\r\n                    className=\"avatarImg \"\r\n                    alt={data[0].data.User.first_name}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <h4>{data[0].data.User.first_name.toUpperCase()}</h4>\r\n                </div>\r\n              </div>\r\n              <div style={{ marginTop: \"20px\" }}>\r\n                <p>\r\n                  <button className=\"createBtn\" onClick={this.handleAllDocs}>\r\n                    {\" \"}\r\n                    Create Document\r\n                  </button>\r\n                  <button className=\"createBtn\" onClick={this.handleTemp}>\r\n                    Create Template\r\n                  </button>\r\n                </p>\r\n                <div>\r\n                  <div>\r\n                    <DocumentTemp\r\n                      TempData={TempData}\r\n                      data={this.state.data}\r\n                      org_domain={this.state.org_domain}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nLogin.contextType = AppContext;\r\n","import React from \"react\";\r\n\r\nimport \"./App.css\";\r\nimport login from \"../src/Components/login\";\r\nimport Login from \"../src/Components/login\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Login />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport AppContextProvider, { AppContext } from \"../src/Context/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <AppContextProvider>\r\n    <App />\r\n  </AppContextProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}